{"remainingRequest":"C:\\Users\\Mistake22\\source\\repos\\GameShop\\FrontEnd\\sitee\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Mistake22\\source\\repos\\GameShop\\FrontEnd\\sitee\\src\\components\\AdminComponents\\MostRatingProductsComponent.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"C:\\Users\\Mistake22\\source\\repos\\GameShop\\FrontEnd\\sitee\\src\\components\\AdminComponents\\MostRatingProductsComponent.vue","mtime":1632865444743},{"path":"C:\\Users\\Mistake22\\source\\repos\\GameShop\\FrontEnd\\sitee\\node_modules\\css-loader\\dist\\cjs.js","mtime":1632558950000},{"path":"C:\\Users\\Mistake22\\source\\repos\\GameShop\\FrontEnd\\sitee\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1632558950000},{"path":"C:\\Users\\Mistake22\\source\\repos\\GameShop\\FrontEnd\\sitee\\node_modules\\postcss-loader\\src\\index.js","mtime":1632558950000},{"path":"C:\\Users\\Mistake22\\source\\repos\\GameShop\\FrontEnd\\sitee\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1632558950000},{"path":"C:\\Users\\Mistake22\\source\\repos\\GameShop\\FrontEnd\\sitee\\node_modules\\vue-loader\\lib\\index.js","mtime":1632558950000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouY29sdW1uIHsKICBmbG9hdDogbGVmdDsKICB3aWR0aDogNTAlOwogIHBhZGRpbmc6IDVweDsKfQoKLnJvdzo6YWZ0ZXIgewogIGNvbnRlbnQ6ICIiOwogIGNsZWFyOiBib3RoOwogIGRpc3BsYXk6IHRhYmxlOwp9Cg=="},{"version":3,"sources":["MostRatingProductsComponent.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0EA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"MostRatingProductsComponent.vue","sourceRoot":"src/components/AdminComponents","sourcesContent":["<template  >\n<div >\n\n \n<div >\n  <notifications group=\"foo\"/>\n    <h2>Самые рейтинговые продукты </h2>\n   <div>   \n     \n  \n      <b-button variant=\"success\" class=\"text-white\" @click=\"Submit()\" >Получить</b-button>\n      <b-button @click=\"Reset()\" variant=\"danger\" >Очистить</b-button>\n        <b-dropdown text=\"Фильтры\" >\n      <label for=\"genres\">Жанр</label>\n           <b-form-select v-model=\"selectedgenre\" :options=\"Genres\" size=\"sm\" id=\"genres\">\n\n               <b-form-select-option :value=\"[]\" >Все</b-form-select-option>\n           </b-form-select>\n        <label for=\"platform\">Платформа</label>\n           <b-form-select v-model=\"selectedplatform\" :options=\"Platforms\" size=\"sm\"  id=\"platform\">\n               <b-form-select-option :value=\"[]\" >Все</b-form-select-option>\n           </b-form-select>\n            <label for=\"localization\">Локализация:</label>\n           <b-form-select v-model=\"selectedlocalization\" :options=\"Localizations\" size=\"sm\"  id=\"localization\">\n               <b-form-select-option :value=\"[]\" >Все</b-form-select-option>\n           </b-form-select>\n            <label for=\"series\">Серия Игр:</label>\n           <b-form-select v-model=\"selectedserie\" :options=\"Series\" size=\"sm\" id=\"series\">\n               <b-form-select-option :value=\"[]\" >Все</b-form-select-option>\n           </b-form-select>\n            <label for=\"manufacture\">Производители:</label>\n           <b-form-select v-model=\"selectedmanufacture\" :options=\"Manufactures\" size=\"sm\"  id=\"manufacture\">\n            <b-form-select-option :value=\"[]\" >Все</b-form-select-option>\n\n           </b-form-select>\n        </b-dropdown>\n        <b-button class=\"text-white bg-secondary\" @click=\"SaveToExcel()\">Сохранить в CSV</b-button>\n       </div>\n    <b-table label=\"asdas\" striped hover  id=\"table2\" :items=\" ratingProducts\" :per-page=\"pagesize\" :current-page=\"currentpage\"   >    \n       \n      \n     \n\n      \n      </b-table>\n\n\n\n    \n      <b-pagination\n      v-model=\"currentpage\"\n      :total-rows=\"countPublication\"\n      :per-page=\"pagesize\"\n      aria-controls=\"table2\"\n    >\n    \n    \n \n    </b-pagination>\n    \n</div>\n\n\n<div  class=\"bg-dark\">\n\n\n</div>\n\n</div>\n</template>\n\n\n<style >\n\n.column {\n  float: left;\n  width: 50%;\n  padding: 5px;\n}\n\n.row::after {\n  content: \"\";\n  clear: both;\n  display: table;\n}\n</style>\n\n<script>\n\nimport axios from 'axios'\n  export default{\n    \n  props: {\n  },\n     \n          name: 'MostRatingProductsComponent',\n          data(){\n              return{\n              \n                 search: '',\n            \n             Games:[],\n              Genres:[],\n              Manufactures:[],\n              Series:[],\n              Localizations:[],\n              Platforms:[],\n              selectedgame:[],\n               selectedgenre:[],\n               selectedmanufacture:[],\n               selectedserie:[],\n               selectedlocalization:[],\n               selectedplatform:[],\n                 ratingProducts:[   ],\n                 currentpage:1,\n               countPublication:9,\n               pagesize:3,\n               Type:\"\",\n               title:\"\",\n                from:\"\",\n               to:\"\",\n              }\n          },\n              \n      \n         \n          mounted(){\n                if(this.session ==undefined){\n                 this.$cookie.set('usersession', 'usersession', { expires: '1h' });\n\n               }\n\n                 axios.get(\"https://localhost:44303/api/Genre\",{headers:{'set-cookie':document.cookie}}).then(Response=> {this.Genres=Response.data; console.log(this.Genres)}).catch(d=>{\n              if(d.response)\n         \n              this.$notify({\n  group: 'foo',\n  type:'error',\n  title: d.response.status,\n  text: d.message\n});\n  if(d.request){\n         console.log(d.request.status)\n     this.$notify({\n  group: 'foo',\n  type:'error',\n  title: 'Ошибка',\n  text:d.message\n});\n  }\n});\n           axios.defaults.headers.common['Access-Control-Allow-Origin'] = '*';\n             axios.get(\"https://localhost:44303/api/Platform\",{headers:{'set-cookie':document.cookie}}).then(Response=> this.Platforms=Response.data).catch(d=>{\n              if(d.response)\n         \n              this.$notify({\n  group: 'foo',\n  type:'error',\n  title: d.response.status,\n  text: d.message\n});\n  if(d.request){\n         console.log(d.request.status)\n     this.$notify({\n  group: 'foo',\n  type:'error',\n  title: 'Ошибка',\n  text:d.message\n});\n  }\n});\n               axios.get(\"https://localhost:44303/api/Localization\",{headers:{'set-cookie':document.cookie}}).then(Response=> this.Localizations=Response.data).catch(d=>{\n              if(d.response)\n         \n              this.$notify({\n  group: 'foo',\n  type:'error',\n  title: d.response.status,\n  text: d.message\n});\n  if(d.request){\n         console.log(d.request.status)\n     this.$notify({\n  group: 'foo',\n  type:'error',\n  title: 'Ошибка',\n  text:d.message\n});\n  }\n});\n             axios.get(\"https://localhost:44303/api/Series\",{headers:{'set-cookie':document.cookie}}).then(Response=> this.Series=Response.data).catch(d=>{\n              if(d.response)\n         \n              this.$notify({\n  group: 'foo',\n  type:'error',\n  title: d.response.status,\n  text: d.message\n});\n  if(d.request){\n         console.log(d.request.status)\n     this.$notify({\n  group: 'foo',\n  type:'error',\n  title: 'Ошибка',\n  text:d.message\n});\n  }\n});\n            axios.get(\"https://localhost:44303/api/Manufacture\", {headers:{'set-cookie':document.cookie}}).then(Response=> this.Manufactures=Response.data).catch(d=>{\n              if(d.response)\n         \n              this.$notify({\n  group: 'foo',\n  type:'error',\n  title: d.response.status,\n  text: d.message\n});\n  if(d.request){\n         console.log(d.request.status)\n     this.$notify({\n  group: 'foo',\n  type:'error',\n  title: 'Ошибка',\n  text:d.message\n});\n  }\n});\n            axios.get('ttps://localhost:44303/api/Record/ratingproducts',{headers:{\n                    \"Accept\": \"application/json\",\n                     \"Authorization\": \"Bearer \" + localStorage.getItem(\"admin\")\n                    ,\n                    'set-cookie':document.cookie}},{params:{from:this.from, to:this.to,genres:this.selectedgenre.length==0? this.genres:this.selectedgenres,\n                 manufactures:this.selectedmanufactures.length==0? this.manufactures:this.selectedmanufactures, \n                  platforms:this.selectedplatforms.length==0? this.platforms:this.selectedplatforms,\n                  localizations:this.selectedlocalizations.length==0? this.localizations:this.selectedlocalizations, }}).then(Response=>\n                           {  this.ratingProducts=Response.data;this.countPublication=this.ratingProducts.length; ;\n              console.log(this.selectedmanufactures).catch(d=>{\n              if(d.response)\n         \n              this.$notify({\n  group: 'foo',\n  type:'error',\n  title: d.response.status,\n  text: d.message\n});\n  if(d.request){\n         console.log(d.request.status)\n     this.$notify({\n  group: 'foo',\n  type:'error',\n  title: 'Ошибка',\n  text:d.message\n});\n  }\n});; \n                } ) \n          },\n             methods:{\n\n               SaveToExcel(){\naxios({method:'PUT',url:'https://localhost:44303/api/Record/ratingproducts/savetoexcel',headers:{\n                    \"Accept\": \"application/json\",\n                     \"Authorization\": \"Bearer \" + localStorage.getItem(\"admin\")\n                    ,\n                    'set-cookie':document.cookie},params:{genres:this.selectedgenre.length==0? this.Genres:[this.selectedgenre],\n                 manufactures:this.selectedmanufacture.length==0? this.Manufactures:[this.selectedmanufacture], \n                  platforms:this.selectedplatform.length==0? this.Platforms:[this.selectedplatform],\n                  localizations:this.selectedlocalization.length==0? this.Localizations:[this.selectedlocalizations] }}).then(Response=>\n                           { \n              console.log(Response.data); \n                } ).catch(d=>{\n              if(d.response)\n         \n              this.$notify({\n  group: 'foo',\n  type:'error',\n  title: d.response.status,\n  text: d.message\n});\n  if(d.request){\n         console.log(d.request.status)\n     this.$notify({\n  group: 'foo',\n  type:'error',\n  title: 'Ошибка',\n  text:d.message\n});\n  }\n}); \n\n               },\n\nSubmit:function(){\n       console.log(this.selectedplatform)\naxios({method:'GET',url:'https://localhost:44303/api/Record/ratingproducts',headers:{\n                    \"Accept\": \"application/json\",\n                     \"Authorization\": \"Bearer \" + localStorage.getItem(\"admin\")\n                    ,\n                    'set-cookie':document.cookie},params:{genres:this.selectedgenre.length==0? this.Genres:[this.selectedgenre],\n                 manufactures:this.selectedmanufacture.length==0? this.Manufactures:[this.selectedmanufacture], \n                  platforms:this.selectedplatform.length==0? this.Platforms:[this.selectedplatform],\n                  localizations:this.selectedlocalization.length==0? this.Localizations:[this.selectedlocalizations] }}).then(Response=>\n                           { this.ratingProducts=Response.data;this.countPublication=this.ratingProducts.length; ;\n              console.log(Response.data); \n                } ).catch(d=>{\n              if(d.response)\n         \n              this.$notify({\n  group: 'foo',\n  type:'error',\n  title: d.response.status,\n  text: d.message\n});\n  if(d.request){\n         console.log(d.request.status)\n     this.$notify({\n  group: 'foo',\n  type:'error',\n  title: 'Ошибка',\n  text:d.message\n});\n  }\n}); \n},\nReset:function(){\n\n  this.from=\"\"\n  this.to=\"\"\n  this.Submit()\n}\n\n          }\n           \n        \n          \n  }\n         \n\n</script>"]}]}