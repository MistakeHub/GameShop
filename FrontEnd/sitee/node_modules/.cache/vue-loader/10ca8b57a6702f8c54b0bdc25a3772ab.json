{"remainingRequest":"C:\\Users\\Mistake22\\source\\repos\\GameShop\\FrontEnd\\sitee\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Mistake22\\source\\repos\\GameShop\\FrontEnd\\sitee\\src\\components\\CartComponent.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Mistake22\\source\\repos\\GameShop\\FrontEnd\\sitee\\src\\components\\CartComponent.vue","mtime":1632871409870},{"path":"C:\\Users\\Mistake22\\source\\repos\\GameShop\\FrontEnd\\sitee\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1632558950000},{"path":"C:\\Users\\Mistake22\\source\\repos\\GameShop\\FrontEnd\\sitee\\node_modules\\babel-loader\\lib\\index.js","mtime":1632558950000},{"path":"C:\\Users\\Mistake22\\source\\repos\\GameShop\\FrontEnd\\sitee\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1632558950000},{"path":"C:\\Users\\Mistake22\\source\\repos\\GameShop\\FrontEnd\\sitee\\node_modules\\vue-loader\\lib\\index.js","mtime":1632558950000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnCiAgZXhwb3J0IGRlZmF1bHR7CiAgICAKICBwcm9wczogewogIH0sCiAgICAgCiAgICAgICAgICBuYW1lOiAnQ2FydENvbXBvbmVudCcsCiAgICAgICAgICBkYXRhKCl7CiAgICAgICAgICAgICAgcmV0dXJuewogICAgICAKICAgICAgICAgICAgICBjYXJ0Ont9LAogICAgICAgICAgICAgIHNlbGVjdGVkaW1hZ2U6IiIKICAgICAgICAgICAgCiAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgCiAgICAgICAgICAgIAogICAgICAgIAogICAgICAgICAgICAgIH0KICAgICAgICAgIH0sCiAgICAgICAgICBtb3VudGVkKCl7CiAgICAgICAgICAgICAgCiAgICAgICAgICAgIGF4aW9zLmRlZmF1bHRzLmhlYWRlcnMuY29tbW9uWydBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW4nXSA9ICcqJzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgIGF4aW9zKHsKICAgICAgICAgICAgICAgIG1ldGhvZDogJ0dFVCcsCiAgICAgICAgICAgICAgICB1cmw6ICdodHRwczovL2xvY2FsaG9zdDo0NDMwMy9hcGkvQ2FydC8nK3RoaXMuJHJvdXRlLnBhcmFtcy51c2VyICwKICAgICAgICAgICAgICAgIGhlYWRlcnM6ewogICAgICAgICAgICAgICAgICAgICJBY2NlcHQiOiAiYXBwbGljYXRpb24vanNvbiIsCiAgICAgICAgICAgICAgICAgICAgIkF1dGhvcml6YXRpb24iOiAiQmVhcmVyICIgKyBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidXNlciIpCiAgICAgICAgICAgICAgICAgICAgLAogICAgICAgICAgICAgICAgICAgICdzZXQtY29va2llJzpkb2N1bWVudC5jb29raWV9CiAgICAgICAgICAgICAgCiAgICAgICAgICAgIH0pLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgIHRoaXMuY2FydD1yZXNwb25zZS5kYXRhCiAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuY2FydCkKICAgICAgICAgICAKICAgICAgICAgICAgICAgCiAgICAgICAgICAgIAogICAgICAgICAgICAgICAgCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgCiAgICAgCiAgICAgICAgICB9LAogICAgICAgICAgbWV0aG9kczp7CiAgICAKICAgICAgICAgICAgIFJlbW92ZUZyb21DYXJ0OmZ1bmN0aW9uKGVsZW0pewogICAgIAogICAgICAgICAgIGF4aW9zKHsKICAgICAgICAgICAgICAgIG1ldGhvZDogJ0RFTEVURScsCiAgICAgICAgICAgICAgICB1cmw6ICdodHRwczovL2xvY2FsaG9zdDo0NDMwMy9hcGkvQ2FydC8nK3RoaXMuJHJvdXRlLnBhcmFtcy51c2VyICwKICAgICAgICAgICAgICAgIHBhcmFtczp7IGdhbWU6ZWxlbS5nYW1lLnRpdGxlb2ZnYW1lfSwKICAgICAgICAgICAgICAgIGhlYWRlcnM6ewogICAgICAgICAgICAgICAgICAgICJBY2NlcHQiOiAiYXBwbGljYXRpb24vanNvbiIsCiAgICAgICAgICAgICAgICAgICAgIkF1dGhvcml6YXRpb24iOiAiQmVhcmVyICIgKyBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidXNlciIpLAogICAgICAgICAgICAgICAgICAgICdzZXQtY29va2llJzpkb2N1bWVudC5jb29raWV9CiAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgCiAgICAgICAgICAgIH0pLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTsKICAgICAgICAgICAgCiAgICAgICAgICAgICAgIAogICAgICAgICAgICAKICAgICAgICAgICAgICAgIAogICAgICAgICAgICB9KTsKICAgICAgICAgIAoKICAgICAgICAgICAgIH0sCgogICAgICAgICAgCiAgICAgICAgICAgCiAgICAgICAgCiAgICAgICAgICB9CiAgfQoK"},{"version":3,"sources":["CartComponent.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;;;;;AAMA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;;;;AAKA;;;;AAIA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;;;;;AAKA;;;AAGA;;;;;AAKA;AACA","file":"CartComponent.vue","sourceRoot":"src/components","sourcesContent":["<template>\n   <div class=\"container\" style=\"    padding-top: 10%\" >                \n<div class=\"contentbar\">                \n        <!-- Start row -->\n        <div class=\"row\">\n            <!-- Start col -->\n            <div class=\"col-md-12 col-lg-12 col-xl-12\">\n                <div class=\"card m-b-30\">\n                    <div class=\"card-header\">\n                        <h5 class=\"card-title\">Cart</h5>\n                    </div>\n                    <div class=\"card-body\">\n                        <div class=\"row justify-content-center\">\n                            <div class=\"col-lg-10 col-xl-8\">\n                                <div class=\"cart-container\">\n                                    <div class=\"cart-head\">\n                                        <div class=\"table-responsive\">\n                                            <table class=\"table table-borderless\">\n                                                <thead>\n                                                    <tr>\n                                                     \n                                                        <th scope=\"col\">Действие</th>                                               \n                                                        <th scope=\"col\">Фото</th>\n                                                        <th scope=\"col\">Название</th>\n                                                    \n                                                        <th scope=\"col\">Цена</th>\n                                                        <th scope=\"col\" class=\"text-right\">Total</th>\n                                                    </tr>\n                                                </thead>\n                                                <tbody v-for=\"elem in cart.publication\">\n                                                    <tr>\n                                                      \n                                                        <td><a href=\"#\" @click=\"RemoveFromCart(elem)\"  class=\"text-danger\" >Убрать<i class=\"ri-delete-bin-3-line\"></i></a></td>\n                                                        <td><img :src=\"elem.images[0].url\" class=\"img-fluid\" width=\"35\" alt=\"product\"></td>\n                                                        <td>{{elem.game.titleofgame}}</td>\n                                                        <td>\n                                                           \n                                                        </td>\n                                                        <td>{{elem.price}} руб</td>\n                                                        <td class=\"text-right\"></td>\n                                                    </tr>\n                                                   \n                                                </tbody>\n                                            </table>\n                                        </div>\n                                    </div>\n                                    <div class=\"cart-body\">\n                                        \n                                            <div class=\"col-md-12 order-1 order-lg-2 col-lg-7 col-xl-6\">\n                                                <div class=\"order-total table-responsive \">\n                                                    <table class=\"table table-borderless text-right\">\n                                                        <tbody>\n                                                          \n                                                                <td class=\"f-w-7 font-18\"><h4>Итого :</h4></td>\n                                                                <td class=\"f-w-7 font-18\"><h4>{{cart.sumof}} руб</h4></td>\n                                                           \n                                                        </tbody>\n                                                    </table>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                    <div class=\"cart-footer text-right\">\n                                      \n                                        <a :href=\"'/cart/AcceptPurchase/'+cart.id\" class=\"btn btn-success my-1 text-white\" >Оплатить<i class=\"ri-arrow-right-line ml-2\"></i></a>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <!-- End col -->\n        </div>\n        <!-- End row -->\n    </div>\n  \n    \n</template>\n\n<style>\nbody{\n    background: #f4f5f7;\n    margin-top:20px;\n}\n.cart-container {\n  border: 1px solid rgba(0, 0, 0, 0.05);\n  padding: 30px;\n}\n.cart-container .cart-body {\n  border-top: 1px solid rgba(0, 0, 0, 0.05);\n  border-bottom: 1px solid rgba(0, 0, 0, 0.05);\n  padding: 30px 0 20px;\n  margin: 20px 0 30px;\n}\n</style>\n\n<script>\n\nimport axios from 'axios'\n  export default{\n    \n  props: {\n  },\n     \n          name: 'CartComponent',\n          data(){\n              return{\n      \n              cart:{},\n              selectedimage:\"\"\n            \n              \n              \n            \n        \n              }\n          },\n          mounted(){\n              \n            axios.defaults.headers.common['Access-Control-Allow-Origin'] = '*';\n                           \n         axios({\n                method: 'GET',\n                url: 'https://localhost:44303/api/Cart/'+this.$route.params.user ,\n                headers:{\n                    \"Accept\": \"application/json\",\n                    \"Authorization\": \"Bearer \" + localStorage.getItem(\"user\")\n                    ,\n                    'set-cookie':document.cookie}\n              \n            }).then((response) => {\n                 \n               this.cart=response.data\n               console.log(this.cart)\n           \n               \n            \n                \n            });\n\n         \n     \n          },\n          methods:{\n    \n             RemoveFromCart:function(elem){\n     \n           axios({\n                method: 'DELETE',\n                url: 'https://localhost:44303/api/Cart/'+this.$route.params.user ,\n                params:{ game:elem.game.titleofgame},\n                headers:{\n                    \"Accept\": \"application/json\",\n                    \"Authorization\": \"Bearer \" + localStorage.getItem(\"user\"),\n                    'set-cookie':document.cookie}\n              \n              \n            }).then((response) => {\n                 \n               window.location.reload();\n            \n               \n            \n                \n            });\n          \n\n             },\n\n          \n           \n        \n          }\n  }\n\n</script>"]}]}