{"remainingRequest":"C:\\Users\\Mistake22\\source\\repos\\GameShop\\FrontEnd\\sitee\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Mistake22\\source\\repos\\GameShop\\FrontEnd\\sitee\\src\\components\\AdminComponents\\AdminTables\\GameTableComponent.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Mistake22\\source\\repos\\GameShop\\FrontEnd\\sitee\\src\\components\\AdminComponents\\AdminTables\\GameTableComponent.vue","mtime":1630607471758},{"path":"C:\\Users\\Mistake22\\source\\repos\\GameShop\\FrontEnd\\sitee\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1630103585000},{"path":"C:\\Users\\Mistake22\\source\\repos\\GameShop\\FrontEnd\\sitee\\node_modules\\babel-loader\\lib\\index.js","mtime":1630103585000},{"path":"C:\\Users\\Mistake22\\source\\repos\\GameShop\\FrontEnd\\sitee\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1630103585000},{"path":"C:\\Users\\Mistake22\\source\\repos\\GameShop\\FrontEnd\\sitee\\node_modules\\vue-loader\\lib\\index.js","mtime":1630103585000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQoNCmltcG9ydCBheGlvcyBmcm9tICdheGlvcycNCiAgZXhwb3J0IGRlZmF1bHR7DQogICAgDQogIHByb3BzOiB7DQogIH0sDQogICAgIA0KICAgICAgICAgIG5hbWU6ICdHYW1lVGFibGVDb21wb25lbnQnLA0KICAgICAgICAgIGRhdGEoKXsNCiAgICAgICAgICAgICAgcmV0dXJuew0KICAgICAgICAgICAgICAgZmlsZWRzOltdLA0KICAgICAgICAgICAgDQogICAgICAgICAgICAgcHVibGljYXRpb25zOltdLA0KICAgICAgICAgICAgDQogICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgIGN1cnJlbnRwYWdlOjEsDQogICAgICAgICAgICAgICBjb3VudFB1YmxpY2F0aW9uOjksDQogICAgICAgICAgICAgICBwYWdlc2l6ZTozLA0KICAgICAgICAgICAgICAgVHlwZToiIiwNCiAgICAgICAgICAgICAgIHRpdGxlOiIiLA0KICAgICAgICAgICAgICAgaXNIYXZlTW9kYWw6ZmFsc2UsDQogICAgICAgICAgICAgICBpc01vZGFsOmZhbHNlLA0KICAgICAgICAgICAgICAgQWRkUmVmOiIiLA0KICAgICAgICAgICAgICBJbmRleDowLA0KICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgDQogICAgICAgICAgICANCiAgICAgICAgDQogICAgICAgICAgICAgIH0NCiAgICAgICAgICB9LA0KICAgICAgICAgIG1vdW50ZWQoKXsNCiAgICAgICAgICAgICAgaWYodGhpcy5zZXNzaW9uID09dW5kZWZpbmVkKXsNCiAgICAgICAgICAgICAgICAgdGhpcy4kY29va2llLnNldCgndXNlcnNlc3Npb24nLCAndXNlcnNlc3Npb24nLCB7IGV4cGlyZXM6ICcxaCcgfSk7DQoNCiAgICAgICAgICAgICAgIH0NCiAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYodGhpcy4kcm91dGUubWV0YS5wdWJsaWNhdGlvbikNCiAgICAgICAgICAgICAgICAgICAgICAgICAgIGF4aW9zLmdldCgnaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzMDMvYXBpL0NhdGFsb2cvZ2V0QWxsJywge2hlYWRlcnM6ew0KICAgICAgICAgICAgICAgICAgICAnc2V0LWNvb2tpZSc6ZG9jdW1lbnQuY29va2llfX0pLnRoZW4oUmVzcG9uc2U9Pg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgeyB0aGlzLnB1YmxpY2F0aW9ucz1SZXNwb25zZS5kYXRhLml0ZW0xO3RoaXMuY291bnRQdWJsaWNhdGlvbj1SZXNwb25zZS5kYXRhLml0ZW0yOyAgIDt0aGlzLlR5cGU9IkNhdGFsb2ciOyB0aGlzLkFkZFJlZj0iL2FkbWluLXBhbmVsL0VkaXRQdWJsaWNhdGlvbiI7IGNvbnNvbGUubG9nKHRoaXMucHVibGljYXRpb25zKTsgdGhpcy5maWxlZHM9WydpZCcsJ3RpdGxlb2ZnYW1lJywgJ2xvY2FsaXphdGlvbnMnLCAnbWFudWZhY3R1cmVzJywgJ2dlbnJlcycsJ3JlZ2lvblJlc3RyaWN0cycsICdwbGF0Zm9ybXMnLCAnc2VyaWVzJywgJ3JhdGluZycsICdkYXRlUmVhbGVzZScsICB7IGtleTogJ2FjdGlvbnMnLCBsYWJlbDogJ0FjdGlvbnMnIH1dICB9ICkNCg0KICAgICAgICAgIA0KDQogICAgICAgICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgIH0sDQogICAgICAgICAgbWV0aG9kczp7DQogICAgIGdldFB1YmxpY2F0aW9uOmZ1bmN0aW9uKCl7DQoNCiAgICAgICAgICBheGlvcy5nZXQoJ2h0dHBzOi8vbG9jYWxob3N0OjQ0MzAzL2FwaS9DYXRhbG9nL2dldEFsbCcpLnRoZW4oUmVzcG9uc2U9PnsgdGhpcy5wdWJsaWNhdGlvbnM9UmVzcG9uc2UuZGF0YS5pdGVtMTt0aGlzLmNvdW50UHVibGljYXRpb249UmVzcG9uc2UuZGF0YS5pdGVtMjsgICBjb25zb2xlLmxvZyh0aGlzLnB1YmxpY2F0aW9ucykgIH0gKQ0KICAgICAgfSwNCiAgICAgICAgIA0KICAgICAgICBSZW1vdmU6ZnVuY3Rpb24oaW5kZXgpew0KDQogYXhpb3MuZGVsZXRlKCdodHRwczovL2xvY2FsaG9zdDo0NDMwMy9hcGkvJyt0aGlzLlR5cGUrJy9yZW1vdmUnK3RoaXMuVHlwZSsnLycraW5kZXgse2hlYWRlcnM6ew0KICAgICAgICAgICAgICAgICAgICAiQWNjZXB0IjogImFwcGxpY2F0aW9uL2pzb24iLA0KICAgICAgICAgICAgICAgICAgICAiQXV0aG9yaXphdGlvbiI6ICJCZWFyZXIgIiArIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJhZG1pbiIpfX0pLnRoZW4oUmVzcG9uc2U9PnsgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTsgYWxlcnQoItCj0LTQsNC70ZHQvSIpICB9ICkNCiAgICAgICAgIA0KICAgICAgICB9LA0KDQogIA0KICAgICAgQWRkOmZ1bmN0aW9uKCl7DQogICAgICAgICAgIGF4aW9zKHttZXRob2Q6J1BPU1QnLHVybDonaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzMDMvYXBpLycrdGhpcy5UeXBlKycvYWRkJywgaGVhZGVyczogew0KICAgICAgICAgICAgICAgICAgICAiQWNjZXB0IjogImFwcGxpY2F0aW9uL2pzb24iLA0KICAgICAgICAgICAgICAgICAgICJBdXRob3JpemF0aW9uIjogIkJlYXJlciAiICsgbG9jYWxTdG9yYWdlLmdldEl0ZW0oImFkbWluIil9LCBwYXJhbXM6eyB0aXRsZTp0aGlzLnRpdGxlfX0pLnRoZW4ocmVzcG9uc2U9PnsgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTsgIGFsZXJ0KCLQrdC70LXQvNC10L3RgiDRg9GB0L/QtdGI0L3QviDQtNC+0LHQsNCy0LvQtdC9Iil9KQ0KDQogICAgICB9LA0KDQogICAgICAgIEVkaXRFbGVtZW50OmZ1bmN0aW9uKCl7DQogICAgICAgICAgIGF4aW9zKHttZXRob2Q6J1BVVCcsdXJsOidodHRwczovL2xvY2FsaG9zdDo0NDMwMy9hcGkvJyt0aGlzLlR5cGUrJy9lZGl0LycrdGhpcy5JbmRleCwgaGVhZGVyczp7DQogICAgICAgICAgICAgICAgICAgICJBY2NlcHQiOiAiYXBwbGljYXRpb24vanNvbiIsDQogICAgICAgICAgICAgICAgICAgIkF1dGhvcml6YXRpb24iOiAiQmVhcmVyICIgKyBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgiYWRtaW4iKX0sIHBhcmFtczp7IHRpdGxlOnRoaXMudGl0bGV9fSkudGhlbihyZXNwb25zZT0+eyAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpOyAgYWxlcnQoItCt0LvQtdC80LXQvdGCINGD0YHQv9C10YjQvdC+INC00L7QsdCw0LLQu9C10L0iKX0pDQoNCiAgICAgIH0sDQoNCiAgICAgIFNob3dFZGl0TW9kYWw6ZnVuY3Rpb24odmFsdWUsdmFsdWUyKXsNCiAgICAgICAgdGhpcy50aXRsZT12YWx1ZTINCiAgICAgICAgdGhpcy5JbmRleD12YWx1ZQ0KICAgICAgICBjb25zb2xlLmxvZyh2YWx1ZTIpDQogdGhpcy4kcmVmc1snYnYtbW9kYWwtZXhhbXBsZTInXS5zaG93KCk7DQogICAgICAgICAgIA0KDQogICAgICB9LA0KDQogICAgICBTYXZlVG9Kc29uOmZ1bmN0aW9uKCl7DQoNCiAgICAgICAgIGF4aW9zKHttZXRob2Q6J1BPU1QnLHVybDonaHR0cHM6Ly9sb2NhbGhvc3Q6NDQzMDMvYXBpLycrdGhpcy5UeXBlKycvc2F2ZXRvanNvbicsIGhlYWRlcnM6ew0KICAgICAgICAgICAgICAgICAgICAiQWNjZXB0IjogImFwcGxpY2F0aW9uL2pzb24iLA0KICAgICAgICAgICAgICAgICJBdXRob3JpemF0aW9uIjogIkJlYXJlciAiICsgbG9jYWxTdG9yYWdlLmdldEl0ZW0oImFkbWluIil9LH0pLnRoZW4ocmVzcG9uc2U9PnsgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTsgIGFsZXJ0KCLQo9GB0L/QtdGI0L3QviDQodC+0YXRgNCw0L3QtdC90L4iKX0pDQoNCiAgICAgIH0sDQogICAgICAgIExvYWRGcm9tSnNvbjpmdW5jdGlvbigpew0KDQogICAgICAgICBheGlvcyh7bWV0aG9kOidQT1NUJyx1cmw6J2h0dHBzOi8vbG9jYWxob3N0OjQ0MzAzL2FwaS8nK3RoaXMuVHlwZSsnL2xvYWRmcm9tanNvbicsIGhlYWRlcnM6ew0KICAgICAgICAgICAgICAgICAgICAiQWNjZXB0IjogImFwcGxpY2F0aW9uL2pzb24iLA0KICAgICAgICAgICAgICAgICAgICAiQXV0aG9yaXphdGlvbiI6ICJCZWFyZXIgIiArIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJhZG1pbiIpfSwgfSkudGhlbihyZXNwb25zZT0+eyAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpOyAgYWxlcnQoItCj0YHQv9C10YjQvdC+INCh0L7RhdGA0LDQvdC10L3QviIpfSkNCg0KICAgICAgfQ0KICAgICAgICAgIA0KICAgDQogICAgICAgICAgfQ0KICAgICAgICAgIA0KICAgICAgICAgICANCiAgICAgICAgDQogICAgICAgICAgDQogIH0NCg0K"},{"version":3,"sources":["GameTableComponent.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+EA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;;;;AAKA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;;AAGA;;;;;AAKA","file":"GameTableComponent.vue","sourceRoot":"src/components/AdminComponents/AdminTables","sourcesContent":["<template  >\r\n<div >\r\n\r\n    <b-table striped hover  id=\"publication-table\" :items=\"publications\" :per-page=\"pagesize\" :current-page=\"currentpage\" :fields=\"fileds\">    \r\n       <template #cell(actions)=\"row\" >\r\n      \r\n        <b-button size=\"sm\" @click=\"Remove(row.item.id)\" class=\"mr-1\">\r\n         Удаление\r\n        </b-button>\r\n\r\n          \r\n        <b-button v-if=\"row.item.titleofgame!=undefined\" size=\"sm\" bv-modal-example2 :href=\"AddRef+'/'+row.item.id\" class=\"mr-1\"> Редактирование</b-button>\r\n       \r\n      \r\n      \r\n      </template>\r\n  \r\n\r\n      </b-table>\r\n\r\n\r\n\r\n    \r\n      <b-pagination\r\n      v-model=\"currentpage\"\r\n      :total-rows=\"countPublication\"\r\n      :per-page=\"pagesize\"\r\n      aria-controls=\"publication-table\"\r\n    >\r\n    \r\n    \r\n \r\n    </b-pagination>\r\n  \r\n\r\n<div>\r\n\r\n<b-button v-if=\"!isHaveModal\" variant=\"succes\" @click=\"$bvModal.show('bv-modal-example')\"  :href=AddRef > New</b-button>\r\n<b-button v-if=\"isHaveModal\" v-b-modal.modal-1 variant=\"succes\"  @click=\"$bvModal.show('bv-modal-example')\"  > New</b-button>\r\n<b-button @click=\"SaveToJson()\" variant=\"warning\">SaveToJson</b-button>\r\n<b-button @click=\"LoadFromJson()\" variant=\"warning\">LoadFromJson</b-button>\r\n  <b-modal id=\"bv-modal-example\" hide-footer>\r\n    <template #modal-title>\r\n    <h1>Добавление нового элемента</h1>\r\n    </template>\r\n    \r\n    <div class=\"d-block text-center\">\r\n      <label>навзание</label>\r\n      <b-input v-model=\"title\"></b-input>\r\n    </div>\r\n    <b-button class=\"mt-3\" block @click=\"Add()\">Подтвердить </b-button>\r\n  </b-modal>\r\n</div>\r\n\r\n<div>\r\n\r\n\r\n  <b-modal ref=\"bv-modal-example2\" hide-footer>\r\n    <template #modal-title>\r\n    <h1>Редактирование</h1>\r\n    </template>\r\n    \r\n    <div class=\"d-block text-center\">\r\n      <label>навзание</label>\r\n      <b-input v-model=\"title\"></b-input>\r\n    </div>\r\n    <b-button class=\"mt-3\" block @click=\"EditElement()\">Подтвердить </b-button>\r\n  </b-modal>\r\n</div>\r\n   <router-view></router-view>\r\n  \r\n</div>\r\n</template>\r\n\r\n\r\n\r\n\r\n<script>\r\n\r\nimport axios from 'axios'\r\n  export default{\r\n    \r\n  props: {\r\n  },\r\n     \r\n          name: 'GameTableComponent',\r\n          data(){\r\n              return{\r\n               fileds:[],\r\n            \r\n             publications:[],\r\n            \r\n             \r\n                 currentpage:1,\r\n               countPublication:9,\r\n               pagesize:3,\r\n               Type:\"\",\r\n               title:\"\",\r\n               isHaveModal:false,\r\n               isModal:false,\r\n               AddRef:\"\",\r\n              Index:0,\r\n              \r\n              \r\n            \r\n        \r\n              }\r\n          },\r\n          mounted(){\r\n              if(this.session ==undefined){\r\n                 this.$cookie.set('usersession', 'usersession', { expires: '1h' });\r\n\r\n               }\r\n          \r\n                             if(this.$route.meta.publication)\r\n                           axios.get('https://localhost:44303/api/Catalog/getAll', {headers:{\r\n                    'set-cookie':document.cookie}}).then(Response=>\r\n                           { this.publications=Response.data.item1;this.countPublication=Response.data.item2;   ;this.Type=\"Catalog\"; this.AddRef=\"/admin-panel/EditPublication\"; console.log(this.publications); this.fileds=['id','titleofgame', 'localizations', 'manufactures', 'genres','regionRestricts', 'platforms', 'series', 'rating', 'dateRealese',  { key: 'actions', label: 'Actions' }]  } )\r\n\r\n          \r\n\r\n                          \r\n          },\r\n          methods:{\r\n     getPublication:function(){\r\n\r\n          axios.get('https://localhost:44303/api/Catalog/getAll').then(Response=>{ this.publications=Response.data.item1;this.countPublication=Response.data.item2;   console.log(this.publications)  } )\r\n      },\r\n         \r\n        Remove:function(index){\r\n\r\n axios.delete('https://localhost:44303/api/'+this.Type+'/remove'+this.Type+'/'+index,{headers:{\r\n                    \"Accept\": \"application/json\",\r\n                    \"Authorization\": \"Bearer \" + localStorage.getItem(\"admin\")}}).then(Response=>{  window.location.reload(); alert(\"Удалён\")  } )\r\n         \r\n        },\r\n\r\n  \r\n      Add:function(){\r\n           axios({method:'POST',url:'https://localhost:44303/api/'+this.Type+'/add', headers: {\r\n                    \"Accept\": \"application/json\",\r\n                   \"Authorization\": \"Bearer \" + localStorage.getItem(\"admin\")}, params:{ title:this.title}}).then(response=>{  window.location.reload();  alert(\"Элемент успешно добавлен\")})\r\n\r\n      },\r\n\r\n        EditElement:function(){\r\n           axios({method:'PUT',url:'https://localhost:44303/api/'+this.Type+'/edit/'+this.Index, headers:{\r\n                    \"Accept\": \"application/json\",\r\n                   \"Authorization\": \"Bearer \" + localStorage.getItem(\"admin\")}, params:{ title:this.title}}).then(response=>{  window.location.reload();  alert(\"Элемент успешно добавлен\")})\r\n\r\n      },\r\n\r\n      ShowEditModal:function(value,value2){\r\n        this.title=value2\r\n        this.Index=value\r\n        console.log(value2)\r\n this.$refs['bv-modal-example2'].show();\r\n           \r\n\r\n      },\r\n\r\n      SaveToJson:function(){\r\n\r\n         axios({method:'POST',url:'https://localhost:44303/api/'+this.Type+'/savetojson', headers:{\r\n                    \"Accept\": \"application/json\",\r\n                \"Authorization\": \"Bearer \" + localStorage.getItem(\"admin\")},}).then(response=>{  window.location.reload();  alert(\"Успешно Сохранено\")})\r\n\r\n      },\r\n        LoadFromJson:function(){\r\n\r\n         axios({method:'POST',url:'https://localhost:44303/api/'+this.Type+'/loadfromjson', headers:{\r\n                    \"Accept\": \"application/json\",\r\n                    \"Authorization\": \"Bearer \" + localStorage.getItem(\"admin\")}, }).then(response=>{  window.location.reload();  alert(\"Успешно Сохранено\")})\r\n\r\n      }\r\n          \r\n   \r\n          }\r\n          \r\n           \r\n        \r\n          \r\n  }\r\n\r\n</script>"]}]}